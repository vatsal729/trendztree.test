function wpseo_show_map(a,b,c,d,e,f,g,h,i,j){var k=new google.maps.LatLngBounds,l=new google.maps.LatLng(c,d),m=480;markers[b]=[];var n={zoom:e,mapTypeControl:!0,zoomControl:g,streetViewControl:!0,mapTypeId:google.maps.MapTypeId[f.toUpperCase()],draggable:h&&window.innerWidth>m,scrollwheel:g&&window.innerWidth>m};if(-1==e){for(var o=0;o<a.length;o++){var p=new google.maps.LatLng(a[o].lat,a[o]["long"]);k.extend(p)}l=k.getCenter()}n.center=l;var q=new google.maps.Map(document.getElementById("map_canvas"+(0!=b?"_"+b:"")),n);-1==e&&q.fitBounds(k);for(var r=new google.maps.InfoWindow({content:s}),o=0;o<a.length;o++){var s=getInfoBubbleText(a[o].name,a[o].address,a[o].country,a[o].show_country,a[o].phone,a[o].phone_2nd,a[o].url,a[o].show_url,a[o].email,a[o].show_email),p=new google.maps.LatLng(a[o].lat,a[o]["long"]),t=a[o].custom_marker,u=a[o].categories.split(", ");markers[b][o]=new google.maps.Marker({position:p,center:l,map:q,map_id:b,html:s,draggable:Boolean(j),icon:"undefined"!=typeof t&&t||"",categories:"undefined"!=typeof u&&u||""})}for(var o=0;o<markers[b].length;o++){var v=markers[b][o];google.maps.event.addListener(v,"click",function(){r.setContent(this.html),r.open(q,this)}),google.maps.event.addListener(r,"closeclick",function(){q.setCenter(this.getPosition())}),google.maps.event.addListener(v,"dragend",function(a){document.getElementById("wpseo_coordinates_lat").value=a.latLng.lat(),document.getElementById("wpseo_coordinates_long").value=a.latLng.lng()})}return 1==markers[b].length&&i&&(r.setContent(markers[b][0].html),r.open(q,v)),q}function wpseo_get_directions(a,b,c,d){var e="";return d&&b.length>=1&&(e=new google.maps.DirectionsRenderer,e.setMap(a),e.setPanel(document.getElementById("directions"+(0!=c?"_"+c:"")))),e}function getInfoBubbleText(a,b,c,d,e,f,g,h,i,j){var k='<div class="wpseo-info-window-wrapper">',l=!1;return void 0!=g&&""!=wpseo_local_data.has_multiple_locations&&g!=window.location.href&&(l=!0),l&&(k+='<a href="'+g+'">'),k+="<strong>"+a+"</strong>",l&&(k+="</a>"),k+="<br>",k+=b+"<br>",d&&""!=c&&(k+=c+"<br>"),h&&""!=g&&(k+='<a href="'+g+'">'+g+"</a><br>"),j&&""!=i&&(k+='<a href="mailto:'+i+'">'+i+"</a><br>"),""!=e&&(k+='<a href="tel:'+e+'">'+e+"<br>"),""!=f&&(k+='<a href="tel:'+f+'">'+f+"<br>"),k+="</div>"}function wpseo_calculate_route(a,b,c,d,e){null!=document.getElementById("wpseo-sl-coords-lat")&&(c=document.getElementById("wpseo-sl-coords-lat").value),null!=document.getElementById("wpseo-sl-coords-long")&&(d=document.getElementById("wpseo-sl-coords-long").value);var f=document.getElementById("origin"+(0!=e?"_"+e:"")).value+" "+wpseo_local_data.default_country,g=google.maps.UnitSystem.METRIC;"IMPERIAL"==wpseo_local_data.unit_system&&(g=google.maps.UnitSystem.IMPERIAL);for(var h=0;h<markers.length;h++)markers[h].setMap(null);if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var i="https://maps.google.com/maps?saddr="+escape(f)+"&daddr="+c+","+d;return window.open(i,"_blank"),!1}var j=new google.maps.LatLng(c,d),k={origin:f,destination:j,provideRouteAlternatives:!0,optimizeWaypoints:!0,travelMode:google.maps.DirectionsTravelMode.DRIVING,unitSystem:g},l=new google.maps.DirectionsService;l.route(k,function(a,c){if(c==google.maps.DirectionsStatus.OK)b.setDirections(a);else if(c==google.maps.DirectionsStatus.ZERO_RESULTS){var d=document.getElementById("wpseo-noroute");d.setAttribute("style","clear: both; display: block;")}})}function wpseo_sl_show_route(a,b,c){$=jQuery,$(".wpseo-sl-coords").remove();var d='<input type="hidden" class="wpseo-sl-coords" id="wpseo-sl-coords-lat" value="'+b+'">';d+='<input type="hidden" class="wpseo-sl-coords" id="wpseo-sl-coords-long" value="'+c+'">',$("#wpseo-directions-form").append(d).submit(),$("#wpseo-directions-wrapper").slideUp(function(){$(this).insertAfter($(a).parents(".wpseo-result")).slideDown()})}function wpseo_detect_location(a){var b=document.getElementById("wpseo-sl-search");if(null==b&&(b=document.getElementById("origin")),navigator.geolocation&&null!=b){var c=a.target||a.srcElement,d=c.getAttribute("src"),e=c.getAttribute("alt"),f=c.getAttribute("data-loading-text");c.setAttribute("src",wpseo_local_data.adminurl+"images/loading.gif"),c.setAttribute("alt",f),navigator.geolocation.getCurrentPosition(function(a){var f=new google.maps.Geocoder,g={lat:parseFloat(a.coords.latitude),lng:parseFloat(a.coords.longitude)};f.geocode({location:g},function(a,f){f===google.maps.GeocoderStatus.OK&&a.length>0&&""==b.value&&(b.value=a[0].formatted_address),c.setAttribute("src",d),c.setAttribute("alt",e)})},function(a){var b="[wpseo] Error detecting location: ";switch(a.code){case a.TIMEOUT:b+="Timeout";break;case a.POSITION_UNAVAILABLE:b+="Position unavailable";break;case a.PERMISSION_DENIED:b+="Permission denied";break;case a.UNKNOWN_ERROR:b+="Unknown error"}"undefined"!=typeof console&&console.log(b),c.setAttribute("src",d),c.setAttribute("alt",e)})}}function filterMarkers(a,b){for(i=0;i<markers[b].length;i++)marker=markers[b][i],-1!=marker.categories.indexOf(a)||0===a.length?marker.setVisible(!0):marker.setVisible(!1)}for(var wpseo_directions=[],wpseo_maps=[],markers=new Object,wpseo_current_location_buttons=document.getElementsByClassName("wpseo_use_current_location"),i=0;i<wpseo_current_location_buttons.length;i++)wpseo_current_location_buttons[i].addEventListener("click",function(a){wpseo_detect_location(a)},!1);